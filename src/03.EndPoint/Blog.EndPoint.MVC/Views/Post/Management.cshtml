@using Blog.Domain.Core.Dtos.PostDtos
@using Blog.FrameWork
@model List<ShowPostDto>
@{
	Layout = "";
}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>مدیریت پست‌ها</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

	<style>
		body {
			font-family: Vazir, sans-serif;
			background-color: #3b4a6b;
			color: #fff;
		}

		.post-img {
			width: 55px;
			height: 55px;
			border-radius: 50%;
			object-fit: cover;
			border: 2px solid #ddd;
		}

		.table-container {
			background: #526180;
			border-radius: 12px;
			padding: 20px;
			box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
		}

		.table thead {
			background-color: #394263;
			color: #fff;
		}

		.table tbody tr:hover {
			background-color: rgba(255, 140, 66, 0.1);
		}

		.btn-create {
			background-color: #4a7cff;
			color: #fff;
			transition: 0.2s;
		}

			.btn-create:hover {
				background-color: #2f5dde;
			}

		.btn-warning {
			background-color: #ffb347;
			border-color: #ffb347;
			color: #fff;
		}

			.btn-warning:hover {
				background-color: #ff8c42;
				border-color: #ff8c42;
			}

		.btn-danger {
			background-color: #f87171;
			border-color: #f87171;
			color: #fff;
		}

			.btn-danger:hover {
				background-color: #e55b5b;
				border-color: #e55b5b;
			}

		h3 {
			color: #ffd580;
		}

		#message-box {
			color: #ff6b6b;
			font-weight: 500;
		}
	</style>
</head>

<body>
	<div class="container mt-5">

		<div class="d-flex justify-content-between align-items-center mb-4">
			<h3>مدیریت پست‌ها</h3>
			<a href="/Post/Create" class="btn btn-create px-4">ایجاد پست جدید +</a>
		</div>

		@if (Model != null && Model.Count > 0)
		{
			<div class="table-container">
				<table class="table table-hover text-center text-white">
					<thead>
						<tr>
							<th>ردیف</th>
							<th>عکس</th>
							<th>عنوان</th>
							<th>توضیح کوتاه</th>
							<th>دسته‌بندی</th>
							<th>تاریخ</th>
							<th>عملیات</th>
						</tr>
					</thead>

					<tbody>
						@{
							int row = 1;
						}
						@foreach (var post in Model)
						{
							<tr>
								<td>@row</td>
								<td>
									<img src="@post.Profile" class="post-img" />
								</td>
								<td>@post.Title</td>
								<td>@post.Description</td>
								<td>@post.CategoryTitle</td>
								<td>@post.CreateAt.ToPersianDate()</td>
								<td>
									<a href="/Post/Update/@post.Id" class="btn btn-warning btn-sm">ویرایش</a>
									<a href="/Get/Delete/@post.Id" class="btn btn-danger btn-sm"
									   onclick="return confirm('آیا از حذف این پست مطمئن هستید؟');">
										حذف
									</a>
								</td>
							</tr>
							row++;
						}
					</tbody>
				</table>
			</div>
		}
		else
		{
			<h3 style="text-align:center;">هیچ پستی یافت نشد.</h3>
		}

		<div id="message-box" class="mt-4 text-center text-sm">
			<div>@TempData["Error"]</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


